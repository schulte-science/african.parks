strip.background = ggplot2::element_blank(),
axis.text.x = ggplot2::element_blank()
)
p
p <- ggplot2::ggplot(tmp, ggplot2::aes(x = Assay, y = value, fill = Run)) +
ggplot2::geom_bar(stat = "identity", position = "stack", color = "black") +
ggplot2::facet_wrap(~name_of_park, nrow = 1) +
ggplot2::scale_fill_manual(values = c("white", "#28a745")) +
ggplot2::labs(y = "Count", fill = "Run Status") +
ggplot2::scale_y_continuous(expand = expansion(mult = c(0, 0.05))) +  # Ensures bars start at 0
ggplot2::theme_bw() +
ggplot2::theme(
strip.background = ggplot2::element_blank(),
axis.text.x = ggplot2::element_blank()
)
p
p <- ggplot2::ggplot(tmp, ggplot2::aes(x = Assay, y = value, fill = Run)) +
ggplot2::geom_bar(stat = "identity", position = "stack", color = "black") +
ggplot2::facet_wrap(~name_of_park, nrow = 1) +
ggplot2::scale_fill_manual(values = c("white", "#28a745")) +
ggplot2::labs(y = "Count", fill = "Run Status") +
ggplot2::scale_y_continuous(expand = ggplot2::expansion(mult = c(0, 0.05))) +  # Ensures bars start at 0
ggplot2::theme_bw() +
ggplot2::theme(
strip.background = ggplot2::element_blank(),
axis.text.x = ggplot2::element_blank()
)
p
p <- ggplot2::ggplot(tmp, ggplot2::aes(x = Assay, y = value, fill = Run)) +
ggplot2::geom_bar(stat = "identity", position = "stack", color = "black") +
ggplot2::facet_wrap(~name_of_park, nrow = 1) +
ggplot2::scale_fill_manual(values = c("white", "#28a745")) +
ggplot2::labs(y = "Count", fill = "Run Status") +
ggplot2::scale_y_continuous(limits = c(0,1500), expand = ggplot2::expansion(mult = c(0, 0.05))) +  # Ensures bars start at 0
ggplot2::theme_bw() +
ggplot2::theme(
strip.background = ggplot2::element_blank(),
axis.text.x = ggplot2::element_blank()
)
p
p <- ggplot2::ggplot(tmp, ggplot2::aes(x = Assay, y = value, fill = Run)) +
ggplot2::geom_bar(stat = "identity", position = "stack", color = "black") +
ggplot2::facet_wrap(~name_of_park, nrow = 1) +
ggplot2::scale_fill_manual(values = c("white", "#28a745")) +
ggplot2::labs(y = "Count", fill = "Run Status") +
ggplot2::scale_y_continuous(limits = c(0,1400), expand = ggplot2::expansion(mult = c(0, 0.05))) +  # Ensures bars start at 0
ggplot2::theme_bw() +
ggplot2::theme(
strip.background = ggplot2::element_blank(),
axis.text.x = ggplot2::element_blank()
)
p
p <- ggplot2::ggplot(tmp, ggplot2::aes(x = Assay, y = value, fill = Run)) +
ggplot2::geom_bar(stat = "identity", position = "stack", color = "black") +
ggplot2::facet_wrap(~name_of_park, nrow = 1) +
ggplot2::scale_fill_manual(values = c("white", "#28a745")) +
ggplot2::labs(y = "Count", fill = "Run Status") +
ggplot2::scale_y_continuous(limits = c(0,1600), expand = ggplot2::expansion(mult = c(0, 0.05))) +  # Ensures bars start at 0
ggplot2::theme_bw() +
ggplot2::theme(
strip.background = ggplot2::element_blank(),
axis.text.x = ggplot2::element_blank()
)
p
p <- ggplot2::ggplot(tmp, ggplot2::aes(x = Assay, y = value, fill = Run)) +
ggplot2::geom_bar(stat = "identity", position = "stack", color = "black") +
ggplot2::facet_wrap(~name_of_park, nrow = 1) +
ggplot2::scale_fill_manual(values = c("white", "#28a745")) +
ggplot2::labs(y = "Count", fill = "Run Status") +
ggplot2::scale_y_continuous(limits = c(0,1400), n.breaks = 7, expand = ggplot2::expansion(mult = c(0, 0.05))) +  # Ensures bars start at 0
ggplot2::theme_bw() +
ggplot2::theme(
strip.background = ggplot2::element_blank(),
axis.text.x = ggplot2::element_blank()
)
p
p <- ggplot2::ggplot(tmp, ggplot2::aes(x = Assay, y = value, fill = Run)) +
ggplot2::geom_bar(stat = "identity", position = "stack", color = "black") +
ggplot2::facet_wrap(~name_of_park, nrow = 1) +
ggplot2::scale_fill_manual(values = c("white", "#28a745")) +
ggplot2::labs(y = "Count", fill = "Run Status") +
ggplot2::scale_y_continuous(n.breaks = 7, expand = ggplot2::expansion(mult = c(0, 0.05))) +  # Ensures bars start at 0
ggplot2::theme_bw() +
ggplot2::theme(
strip.background = ggplot2::element_blank(),
axis.text.x = ggplot2::element_blank()
)
p
p <- ggplot2::ggplot(tmp, ggplot2::aes(x = Assay, y = value, fill = Run)) +
ggplot2::geom_bar(stat = "identity", position = "stack", color = "black") +
ggplot2::facet_wrap(~name_of_park, nrow = 1) +
ggplot2::scale_fill_manual(values = c("white", "#28a745")) +
ggplot2::labs(y = "Count", fill = "Run Status") +
ggplot2::scale_y_continuous(n.breaks = 8, expand = ggplot2::expansion(mult = c(0, 0.05))) +  # Ensures bars start at 0
ggplot2::theme_bw() +
ggplot2::theme(
strip.background = ggplot2::element_blank(),
axis.text.x = ggplot2::element_blank()
)
p
p <- ggplot2::ggplot(tmp, ggplot2::aes(x = Assay, y = value, fill = Run)) +
ggplot2::geom_bar(stat = "identity", position = "stack", color = "black") +
ggplot2::facet_wrap(~name_of_park, nrow = 1) +
ggplot2::scale_fill_manual(values = c("white", "#28a745")) +
ggplot2::labs(y = "Count", fill = "Run Status") +
ggplot2::scale_y_continuous(n.breaks = 8, expand = ggplot2::expansion(mult = c(0, 0.05))) +  # Ensures bars start at 0
ggplot2::theme_bw() +
ggplot2::theme(
strip.background = ggplot2::element_blank(),
axis.title.x = ggplot2::element_blank()
)
p
plotly::ggplotly(p)
p <- ggplot2::ggplot(tmp,
ggplot2::aes(x = Assay, y = value, fill = Run, tooltip = paste("Count:", value))) +
ggplot2::geom_bar_interactive(stat = "identity", position = "stack", color = "black") +  # Make bars interactive
ggplot2::facet_wrap(~name_of_park, nrow = 1) +
ggplot2::scale_fill_manual(values = c("white", "#28a745")) +
ggplot2::labs(y = "Count", fill = "Run Status") +
ggplot2::scale_y_continuous(n.breaks = 8, expand = ggplot2::expansion(mult = c(0, 0.05))) +
ggplot2::theme_bw() +
ggplot2::theme(
strip.background = ggplot2::element_blank(),
axis.title.x = ggplot2::element_blank()
)
p <- ggplot2::ggplot(tmp,
ggplot2::aes(x = Assay, y = value, fill = Run, tooltip = paste("Count:", value))) +
ggiraph::geom_col_interactive(position = "stack", color = "black") +
ggplot2::facet_wrap(~name_of_park, nrow = 1) +
ggplot2::scale_fill_manual(values = c("white", "#28a745")) +
ggplot2::labs(y = "Count", fill = "Run Status") +
ggplot2::scale_y_continuous(n.breaks = 8, expand = ggplot2::expansion(mult = c(0, 0.05))) +
ggplot2::theme_bw() +
ggplot2::theme(
strip.background = ggplot2::element_blank(),
axis.title.x = ggplot2::element_blank()
)
install.packages("ggiraph")
p <- ggplot2::ggplot(tmp,
ggplot2::aes(x = Assay, y = value, fill = Run, tooltip = paste("Count:", value))) +
ggiraph::geom_col_interactive(position = "stack", color = "black") +
ggplot2::facet_wrap(~name_of_park, nrow = 1) +
ggplot2::scale_fill_manual(values = c("white", "#28a745")) +
ggplot2::labs(y = "Count", fill = "Run Status") +
ggplot2::scale_y_continuous(n.breaks = 8, expand = ggplot2::expansion(mult = c(0, 0.05))) +
ggplot2::theme_bw() +
ggplot2::theme(
strip.background = ggplot2::element_blank(),
axis.title.x = ggplot2::element_blank()
)
p
ggiraph::girafe(ggobj = p,
options = list(
opts_hover(css = "fill:red;"),  # Change bar color on hover
opts_toolbar(saveaspng = TRUE)  # Enable toolbar with save button
))
ggiraph::girafe(ggobj = p,
options = list(
ggiraph::opts_hover(css = "fill:red;"),  # Change bar color on hover
ggiraph::opts_toolbar(saveaspng = TRUE)  # Enable toolbar with save button
))
ggiraph::girafe(ggobj = p,
options = list(
ggiraph::opts_hover(css = "fill:red;"),  # Change bar color on hover
ggiraph::opts_toolbar(css = "background-color: #28a745 !important;", saveaspng = TRUE)  # Enable toolbar with save button
))
ggiraph::girafe(ggobj = p,
options = list(
ggiraph::opts_hover(css = "fill:red;"),  # Change bar color on hover
ggiraph::opts_toolbar(css = "background-color: #28a745 !important;")  # Enable toolbar with save button
))
tmp <- rv$meta |>
dplyr::mutate(name_of_park = stringr::str_to_title(ifelse(name_of_park %in% "odzala_okoua", "Odzala-Kokoua", name_of_park))) |>
dplyr::group_by(name_of_park) |>
dplyr::summarize(
`12SVert Run` = sum(!is.na(RunId_12SVert), na.rm = TRUE),
`12SVert Missing` = sum(is.na(RunId_12SVert), na.rm = TRUE),
`trnL Run` = sum(!is.na(RunId_trnL), na.rm = TRUE),
`trnL Missing` = sum(is.na(RunId_trnL), na.rm = TRUE)
) |>
tidyr::pivot_longer(
cols = -name_of_park,
names_to = c("Assay", "Run"),
names_sep = " "
)
p <- ggplot2::ggplot(tmp, ggplot2::aes(x = Assay, y = value, fill = Run)) +
ggplot2::geom_bar(stat = "identity", position = "stack", color = "black") +
ggplot2::facet_wrap(~name_of_park, nrow = 1) +
ggplot2::scale_fill_manual(values = c("white", "#28a745")) +
ggplot2::labs(y = "Count", fill = "Run Status") +
ggplot2::scale_y_continuous(n.breaks = 8, expand = ggplot2::expansion(mult = c(0, 0.05))) +  # Ensures bars start at 0
ggplot2::theme_bw() +
ggplot2::theme(
strip.background = ggplot2::element_blank(),
axis.title.x = ggplot2::element_blank()
)
p <- ggplot2::ggplot(tmp,
ggplot2::aes(x = Assay, y = value, fill = Run, tooltip = paste("Count:", value))) +
ggiraph::geom_col_interactive(position = "stack", color = "black") +
ggplot2::facet_wrap(~name_of_park, nrow = 1) +
ggplot2::scale_fill_manual(values = c("white", "#28a745")) +
ggplot2::labs(y = "Number of Samples", fill = "Run Status") +
ggplot2::scale_y_continuous(n.breaks = 8, expand = ggplot2::expansion(mult = c(0, 0.05))) +
ggplot2::theme_bw() +
ggplot2::theme(
strip.background = ggplot2::element_blank(),
axis.title.x = ggplot2::element_blank()
)
p
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
p
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
p
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
p
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
rv <- list()
rv$meta = read.csv("JordanaSamples - Metadata_20250225.csv", na = "")
vertebrate_plot_data <- rv$meta |>
dplyr::filter(!is.na(species_id_dna_common),
!is.na(name_of_park)) |>
dplyr::count(species_id_dna_common, name_of_park, name = "count")
View(vertebrate_plot_data)
p <- ggplot2::ggplot(vertebrate_plot_data,
ggplot2::aes(x = count, y = species_id_dna_common, fill = name_of_park, tooltip = paste("Count:", value))) +
ggiraph::geom_col_interactive(position = "stack") +
# ggplot2::scale_fill_manual(values = c("gray90", "#A8D5A1", "#28a745"), guide = "none") +
ggplot2::labs(y = "Number of Samples") +
# ggplot2::scale_y_continuous(n.breaks = 8, expand = ggplot2::expansion(mult = c(0, 0.05))) +
ggplot2::theme_bw() +
ggplot2::theme(
strip.background = ggplot2::element_blank(),
axis.title.x = ggplot2::element_blank(),
panel.grid.major.x = ggplot2::element_blank(),
panel.grid.minor.y = ggplot2::element_blank(),
panel.border = ggplot2::element_blank(),
panel.spacing = ggplot2::unit(0, "lines")
)
p
p <- ggplot2::ggplot(vertebrate_plot_data,
ggplot2::aes(x = count, y = species_id_dna_common, fill = name_of_park, tooltip = paste("Count:", count))) +
ggiraph::geom_col_interactive(position = "stack") +
# ggplot2::scale_fill_manual(values = c("gray90", "#A8D5A1", "#28a745"), guide = "none") +
ggplot2::labs(y = "Number of Samples") +
# ggplot2::scale_y_continuous(n.breaks = 8, expand = ggplot2::expansion(mult = c(0, 0.05))) +
ggplot2::theme_bw() +
ggplot2::theme(
strip.background = ggplot2::element_blank(),
axis.title.x = ggplot2::element_blank(),
panel.grid.major.x = ggplot2::element_blank(),
panel.grid.minor.y = ggplot2::element_blank(),
panel.border = ggplot2::element_blank(),
panel.spacing = ggplot2::unit(0, "lines")
)
p
p <- ggplot2::ggplot(vertebrate_plot_data,
ggplot2::aes(x = count, y = rev(species_id_dna_common), fill = name_of_park, tooltip = paste("Count:", count))) +
ggiraph::geom_col_interactive(position = "stack") +
# ggplot2::scale_fill_manual(values = c("gray90", "#A8D5A1", "#28a745"), guide = "none") +
ggplot2::labs(y = "Number of Samples") +
# ggplot2::scale_y_continuous(n.breaks = 8, expand = ggplot2::expansion(mult = c(0, 0.05))) +
ggplot2::theme_bw() +
ggplot2::theme(
strip.background = ggplot2::element_blank(),
axis.title.x = ggplot2::element_blank(),
panel.grid.major.x = ggplot2::element_blank(),
panel.grid.minor.y = ggplot2::element_blank(),
panel.border = ggplot2::element_blank(),
panel.spacing = ggplot2::unit(0, "lines")
)
p
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
p <- ggplot2::ggplot(vertebrate_plot_data,
ggplot2::aes(x = count, y = species_id_dna_common, fill = name_of_park, tooltip = paste("Count:", count))) +
ggiraph::geom_col_interactive(position = "stack") +
# ggplot2::scale_fill_manual(values = c("gray90", "#A8D5A1", "#28a745"), guide = "none") +
ggplot2::labs(y = "Number of Samples") +
# ggplot2::scale_y_continuous(n.breaks = 8, expand = ggplot2::expansion(mult = c(0, 0.05))) +
ggplot2::theme_bw() +
ggplot2::theme(
strip.background = ggplot2::element_blank(),
axis.title.x = ggplot2::element_blank(),
panel.grid.major.y = ggplot2::element_blank(),
panel.grid.minor.x = ggplot2::element_blank(),
panel.border = ggplot2::element_blank(),
panel.spacing = ggplot2::unit(0, "lines")
)
p
p <- ggplot2::ggplot(vertebrate_plot_data,
ggplot2::aes(x = count, y = species_id_dna_common, fill = name_of_park, tooltip = paste("Count:", count))) +
ggiraph::geom_col_interactive(position = "stack") +
# ggplot2::scale_fill_manual(values = c("gray90", "#A8D5A1", "#28a745"), guide = "none") +
ggplot2::labs(y = "Number of Samples") +
# ggplot2::scale_y_continuous(n.breaks = 8, expand = ggplot2::expansion(mult = c(0, 0.05))) +
ggplot2::theme_bw() +
ggplot2::theme(
strip.background = ggplot2::element_blank(),
axis.title.x = ggplot2::element_blank(),
panel.grid.major.y = ggplot2::element_blank(),
# panel.grid.minor.x = ggplot2::element_blank(),
panel.border = ggplot2::element_blank(),
panel.spacing = ggplot2::unit(0, "lines")
)
p
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
p <- ggplot2::ggplot(vertebrates_plot_data(),
ggplot2::aes(x = count,
y = factor(species_id_dna_common, levels = rev(sort(unique(species_id_dna_common)))),
fill = name_of_park, tooltip = paste("Count:", count))) +
ggiraph::geom_col_interactive(position = "stack") +
ggplot2::scale_fill_manual(values = c("gray30", "#A8D5A1", "gray80", "#28a745")) +
ggplot2::labs(x = "Number of Samples", fill = "Park") +
ggplot2::theme_bw() +
ggplot2::theme(
strip.background = ggplot2::element_blank(),
axis.title.y = ggplot2::element_blank(),
panel.grid.major.x = ggplot2::element_blank(),
panel.border = ggplot2::element_blank(),
panel.spacing = ggplot2::unit(0, "lines")
)
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
getwd()
install.packages("leaflet")
install.packages("leaflet")
rv <- list()
rv$meta <- meta = read.csv("JordanaSamples - Metadata_20250225.csv", na = "")
rv$meta = read.csv("JordanaSamples - Metadata_20250225.csv", na = "")
View(Rv$meta)
View(rv$meta)
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
View(rv$meta)
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
View(rv$meta)
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
min(rv$meta$latitude)
min(rv$meta$latitude, na.rm = T)
min(rv$meta$latitude, na.rm = T)
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
golem:::run_dev()
packageVersion("shinyWidgets")
golem:::run_dev()
